(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{9023:function(e,t,r){Promise.resolve().then(r.bind(r,954)),Promise.resolve().then(r.bind(r,4145))},954:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(3827),s=r(4090),l=r(7159),n=r(1617),o=r(3564),i=r(1141),c=e=>{let{register:t,trigger:r,errors:c,email:d}=e,[u,m]=(0,s.useState)(!1),x=(0,l.T)(),h=async()=>{console.log("hello there",await r(["email"])),x((0,n.GH)())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h1",{className:"mb-2 font-semibold text-[1.5rem]",children:"Forgot Password"}),(0,a.jsx)("p",{className:"max-w-xs text-sm font-[400] text-neutral-600 ",children:"Enter your registered email to receive further instructions"})]}),(0,a.jsx)("div",{className:"form-container w-full sm:w-[350px] font-number text-black dark:text-white mb-8",children:(0,a.jsxs)("div",{className:"mb-3 w-full",children:[(0,a.jsx)("label",{htmlFor:"email",className:"mb-1 text-sm text-light text-neutral-500 dark:text-neutral-500 font-raleway",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",autoComplete:"on",placeholder:"",required:!0,...t("email"),className:"w-full font-raleway rounded-md py-2.5 px-5 font-light text-neutral-600 text-base focus:text-black focus:border-black dark:text-neutral-400 dark:focus:text-neutral-300 bg-transparent border hover:border-neutral-500 dark:border-neutral-800 focus:outline-none dark:focus:border-neutral-700 placeholder-neutral-400"}),c.email&&(0,a.jsx)("p",{className:"text-xs font-semibold",children:c.email.message})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-y-4",children:[(0,a.jsx)(o.Z,{loading:u,text:"Send",type:"button",action:h}),(0,a.jsx)(i.Z,{text:"Login",link:"/login"})]})]})},d=r(7086),u=r(1209),m=e=>{let{trigger:t,control:r,errors:i,email:c,code:m}=e,[x,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1),[b,g]=(0,s.useState)(["","","",""]),v=(0,s.useRef)([]),w=(0,u.C)(e=>e.passwordRecoveryStep.selectedEmail),j=(0,l.T)(),k=(e,t)=>{if(/^\d$/.test(t)){let a=[...b];if(a[e]=t,g(a),e<3){var r;null===(r=v.current[e+1])||void 0===r||r.focus()}}},y=(e,t)=>{if("Backspace"===t.key&&e>0&&!b[e]){var r;null===(r=v.current[e-1])||void 0===r||r.focus()}},N=async()=>{try{p(!0);let e=await (0,d.Rv)(w);console.log(e.data.message)}catch(e){}finally{p(!1)}},S=async()=>{console.log(await t(["code"])),j((0,n.GH)())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h1",{className:"mb-1 font-semibold text-[1.5rem]",children:"Enter OTP"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter the 4-digit code that we sent to your email"})]}),(0,a.jsx)("div",{className:"grid gap-[2rem] w-full sm:min-w-[350px] mb-8",children:(0,a.jsx)("div",{className:"w-full grid place-items-center grid-cols-4 gap-x-3",children:b.map((e,t)=>(0,a.jsx)("input",{type:"text",name:"otp-".concat(t),id:"otp-".concat(t),maxLength:1,className:"h-[4rem] w-[4rem] border focus:border-black rounded-lg text-[2rem] text-[#000] flex items-center justify-center pl-[1.5rem] outline-none",value:e,onChange:e=>k(t,e.target.value),onKeyDown:e=>y(t,e),ref:e=>v.current[t]=e},t))})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:" mb-2 text-gray-600 text-sm",children:["Didn't receive the code?"," ",(0,a.jsx)("button",{disabled:f,onClick:()=>N(),className:"text-[#000]",children:(0,a.jsx)("span",{children:"Resend"})})]}),(0,a.jsx)("div",{className:"grid place-items-center mb-[1.25rem]",children:(0,a.jsx)(o.Z,{loading:x,text:"Verify",type:"button",action:S})}),(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>{j((0,n.Ub)())},disabled:x,className:"h-[3rem] w-full max-w-[21rem]  bg-transparent border border-neutral-500 text-neutral-500 hover:text-[#0e0e0e] hover:border-[#0e0e0e] font-semibold rounded-lg",children:(0,a.jsx)("span",{children:"Back"})})})]})]})},x=e=>{let{register:t,errors:r,isSubmitting:n}=e,[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1);return(0,l.T)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h1",{className:"mb-1 font-semibold text-[1.5rem]",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-sm",children:"Choose a new password for your account"})]}),(0,a.jsxs)("div",{className:"grid gap-[1.5rem] w-full sm:min-w-[350px] ",children:[(0,a.jsx)("div",{className:"form-container font-number text-black dark:text-white",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{htmlFor:"password",className:"mb-1 text-sm text-light text-neutral-500 dark:text-neutral-500 font-raleway",children:"Password"}),(0,a.jsx)("input",{id:"password",type:c?"text":"password",autoComplete:"on",placeholder:"",required:!0,...t("password"),className:"w-full font-raleway rounded-md py-2.5 px-5 font-light text-neutral-600 text-base focus:text-black focus:border-black dark:text-neutral-400 dark:focus:text-neutral-300 bg-transparent border hover:border-neutral-500 dark:border-neutral-800 focus:outline-none dark:focus:border-neutral-700 placeholder-neutral-400"}),r.password&&(0,a.jsx)("p",{className:"text-xs font-semibold",children:r.password.message})]})}),(0,a.jsx)("div",{className:"form-container font-number text-black dark:text-white mb-3",children:(0,a.jsxs)("div",{className:"mb-3 w-full",children:[(0,a.jsx)("label",{htmlFor:"confirmpassword",className:"mb-1 text-sm text-light text-neutral-500 dark:text-neutral-500 font-raleway",children:"Confirm Password"}),(0,a.jsx)("input",{id:"confirmpassword",type:u?"text":"password",autoComplete:"on",placeholder:"",required:!0,...t("confirmPassword"),className:"w-full font-raleway rounded-md py-2.5 px-5 font-light text-neutral-600 text-base focus:text-black focus:border-black dark:text-neutral-400 dark:focus:text-neutral-300 bg-transparent border hover:border-neutral-500 dark:border-neutral-800 focus:outline-none dark:focus:border-neutral-700 placeholder-neutral-400"}),r.confirmPassword&&(0,a.jsx)("p",{className:"text-xs font-semibold",children:r.confirmPassword.message})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"grid place-items-center mb-[1.25rem]",children:(0,a.jsx)(o.Z,{loading:n,text:"Submit",type:"submit",action:()=>{}})}),(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)(i.Z,{text:"Login",link:"/login"})})]})]})},h=r(1348),f=r(2670),p=r(1991);let b=p.Ry().shape({email:p.Z_().email("Must be a valid email").required("This field is required"),code:p.Rx().typeError("Should be a number").min(1e3,"Should be 4 digits").required("Code is required"),password:p.Z_().required("This field is required"),confirmPassword:p.Z_().oneOf([p.iH("password")],"Passwords must match").required("This field is required")});var g=r(7957),v=()=>{let e=(0,l.T)(),t=(0,u.C)(e=>e.passwordRecoveryStep.step),[r,o]=(0,s.useState)(!1),{register:i,handleSubmit:d,formState:{errors:p},watch:v,trigger:w,control:j}=(0,f.cI)({resolver:(0,g.X)(b)}),k=v("email"),y=parseInt("".concat(v("code"))),N=async e=>{console.log(e)};return(0,s.useEffect)(()=>()=>{e((0,n.Us)())},[e]),(0,a.jsx)("form",{onSubmit:d(N),className:"max-w-[30rem] mx-auto overflow-x-hidden",children:(0,a.jsx)(h.M,{mode:"wait",children:(()=>{switch(t){case 0:return(0,a.jsx)(c,{register:i,trigger:w,errors:p,email:k});case 1:return(0,a.jsx)(m,{trigger:w,control:j,errors:p,email:k,code:y});case 2:return(0,a.jsx)(x,{register:i,errors:p,isSubmitting:r})}})()})})}},9750:function(e,t,r){"use strict";var a=r(3827);r(4090);var s=r(8817);t.Z=e=>{let{color:t}=e;return(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)(s.s5,{strokeColor:t||"white",strokeWidth:"5",animationDuration:"0.75",width:"40",visible:!0})})}},3564:function(e,t,r){"use strict";var a=r(3827);r(4090);var s=r(9750);t.Z=function(e){let{loading:t,text:r,type:l,action:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:" bg-black dark:bg-neutral-800 dark:hover:bg-neutral-700 w-full h-[3.5rem] rounded-md font-raleway font-normal text-lg text-white dark:text-neutral-400 border border-black hover:shadow-xl hover:scale-105 ".concat(t?" h-[3.5rem] py-1 bg-black":"cursor-pointer"),type:l,disabled:t,onClick:()=>n(),children:t?(0,a.jsx)(s.Z,{}):r})})}},1141:function(e,t,r){"use strict";var a=r(3827),s=r(8792);r(4090),t.Z=function(e){let{text:t,type:r,action:l,link:n}=e;return n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.default,{href:n,children:(0,a.jsx)("div",{className:"text-neutral-400 text-center hover:text-black border border-neutral-400 hover:border-black rounded-lg w-full text-base md:text-lg py-2.5 px-6",children:t})})}):(0,a.jsx)("button",{className:"border hover:border-black rounded-lg w-full py-3 flex items-center justify-center text-neutral-400 text-sm md:text-base hover:text-black mb-3",type:r,onClick:l,children:t})}},2246:function(e,t,r){"use strict";var a=r(3827);r(4090);var s=r(8792);t.Z=function(e){let{text:t,link:r,small:l,active:n,action:o}=e;return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(s.default,{href:r,className:'"w-full  '.concat(l?"text-sm text-neutral-400 hover:text-black":"text-lg p-2 text-neutral-400 dark:text-neutral-400 hover:text-black"," ").concat(n?"!text-black font-medium dark:text-neutral-400":""," "),children:t}):(0,a.jsx)("button",{className:'"w-full  '.concat(l?"text-sm text-neutral-400 hover:text-black":"text-lg p-2 text-neutral-400 dark:text-neutral-400 hover:text-black"," ").concat(n?"!text-black dark:text-neutral-400":""," "),onClick:()=>o,children:t})})}},7159:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});let a=r(168).I0},1209:function(e,t,r){"use strict";r.d(t,{C:function(){return a}});let a=r(168).v9},4145:function(e,t,r){"use strict";r.r(t);var a=r(3827),s=r(4090),l=r(2246),n=r(4504),o=r(9750),i=r(1209),c=r(7159),d=r(3288);t.default=function(e){let{children:t,form:r}=e,u=(0,i.C)(e=>e.passwordRecoveryStep.step),m=(0,i.C)(e=>e.user.avatarId),x=(0,c.T)();return(0,s.useEffect)(()=>{"signup"===r?x((0,d.cS)(Math.floor(100*Math.random())+1)):x((0,d.cS)(null))},[r]),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 items-center min-h-screen dark:bg-[#191919]",children:[(0,a.jsx)("div",{className:"w-full h-screen border bg-white hidden lg:block",children:(0,a.jsx)("div",{className:"mx-8 min-h-screen overflow-hidden",children:"signup"!==r&&2!==u?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-screen",children:[(0,a.jsx)("h3",{className:" font-[700] text-4xl mb-6",children:"Blogger"}),(0,a.jsx)("div",{className:"w-[275px] h-[330px] border dark:border-neutral-700 rounded-lg hover:shadow-xl ",children:null===m?(0,a.jsx)("div",{className:"w-full h-[330px] flex items-center justify-center",children:(0,a.jsx)(o.Z,{color:"#000"})}):(0,a.jsx)("img",{src:"/assets/Bust/peep-".concat(m,".svg"),className:"mx-auto",loading:"lazy",alt:"A vector illustration of a boy holding a laptop open before him"})}),(0,a.jsx)("p",{className:"w-1/2 mx-auto mt-8 text-center text-sm sm:text-base md:text-xl font-normal text-gray-700 dark:text-neutral-400 font-raleway",children:"login"===r?null===m?"Enter your email to see your custom illustration":"Welcome back, Amazing stories, news, talks and information today.":"Reset your custom illustration by selecting a different illustration."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-10 xl:px-4",children:(0,a.jsx)("p",{className:"w-full  xl:w-1/2 mx-auto mt-8 text-center text-sm sm:text-base md:text-xl font-normal text-gray-700 dark:text-neutral-400 font-raleway",children:"signup"===r?"Pick a custom illustration for your profile by selecting one of the options below.":"Reset your custom illustration by selecting a different illustration."})}),(0,a.jsx)("div",{className:"relative mx-auto overflow-y-auto marquee-height",children:(0,a.jsx)("div",{className:"grid grid-cols-4 lg:grid-cols-5 overflow-y-auto gap-x-3 space-y-3 p-6 ",children:[...Array(100)].map((e,t)=>(0,a.jsx)("button",{className:"mb-2 ".concat(m===t+1?"border-black":""," border focus:border-black hover:border-neutral-700 rounded-xl  hover:shadow-xl hover:shadow-neutral-100 dark:border-neutral-700 "),onClick:()=>{x((0,d.cS)(t+1))},children:(0,a.jsx)("img",{src:"/assets/Bust/peep-".concat(t+1,".svg"),loading:"lazy",className:"mx-auto ",style:{width:"85px"},alt:"A vector illustration of a boy holding a laptop open before him"})},t+1))})})]})})}),(0,a.jsx)("div",{className:"w-full min-h-screen flex items-center justify-center bg-[#F7F7F7]",children:(0,a.jsx)(n.E.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:(0,a.jsxs)("div",{className:"border border-black rounded-xl p-6 sm:p-12 lg:p-10 mx-12 xl:p-12 shadow-lg",children:[(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsx)(l.Z,{text:"Back",link:"/",small:!0})}),t]})})})]})}},1617:function(e,t,r){"use strict";r.d(t,{GH:function(){return s},Ub:function(){return l},Us:function(){return o}});let a=(0,r(8714).oM)({name:"passwordRecoveryStep",initialState:{step:0,direction:"start",selectedEmail:""},reducers:{increasePasswordRecoveryStep:e=>{e.step+=1,e.direction="next"},decreasePasswordRecoveryStep:e=>{e.step-=1,e.direction="previous"},selectPasswordRecoveryStep:(e,t)=>{e.step=t.payload.step,e.direction=t.payload.direction},resetPasswordRecoveryStep:e=>{e.step=0,e.direction="start"},setPasswordRecoveryStepSelectedEmail:(e,t)=>{e.selectedEmail=t.payload}}}),{increasePasswordRecoveryStep:s,decreasePasswordRecoveryStep:l,selectPasswordRecoveryStep:n,resetPasswordRecoveryStep:o,setPasswordRecoveryStepSelectedEmail:i}=a.actions;t.ZP=a.reducer},3288:function(e,t,r){"use strict";r.d(t,{TX:function(){return l},cS:function(){return o},nq:function(){return n},pH:function(){return s}});let a=(0,r(8714).oM)({name:"user",initialState:{data:null,avatarId:null,networkError:!1,isLoading:!0,isNull:!1},reducers:{updateAvatarId:(e,t)=>{e.avatarId=t.payload},loginUser:(e,t)=>{e.data=t.payload,e.isLoading=!1,e.isNull=!1,e.networkError=!1},logoutUser:e=>{e.data=null,e.isLoading=!1,e.isNull=!0,e.networkError=!1},setUserWithNetworkError:e=>{e.data=null,e.isLoading=!1,e.isNull=!1,e.networkError=!0}}}),{loginUser:s,logoutUser:l,setUserWithNetworkError:n,updateAvatarId:o}=a.actions;t.ZP=a.reducer},7086:function(e,t,r){"use strict";r.d(t,{yd:function(){return n},x4:function(){return i},kS:function(){return c},bi:function(){return d},Rv:function(){return u},IU:function(){return o},lm:function(){return m}});var a=r(7908),s=r(9079);let l=a.Z.create({baseURL:"http://localhost:5000",withCredentials:!0});a.Z.create({baseURL:"https://api.cloudinary.com/v1_1/".concat(s.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,"/image/upload")});let n=e=>l.post("/auth/avatar",{email:e}),o=e=>{let{firstName:t,lastName:r,userName:a,email:s,password:n,avatarId:o}=e;return l.post("/auth/register",{avatarId:o,firstName:t,lastName:r,userName:a,email:s,password:n})},i=(e,t)=>l.post("/auth/login",{email:e,password:t}),c=()=>l.post("/auth/logout",{}),d=()=>l.post("/auth/refresh",{}),u=e=>l.post("/auth/resend",{email:e}),m=(e,t)=>l.post("/auth/verify",{email:e,otp:t})}},function(e){e.O(0,[700,993,504,817,670,301,971,69,744],function(){return e(e.s=9023)}),_N_E=e.O()}]);